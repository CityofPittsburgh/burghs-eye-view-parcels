.libPaths("C:/util")
library(rgdal)
install.packages("rgdal")
library(purrr)
.libPaths("C:/util")
install.packages(c("gpclib", "maptools", "plyr", "rgdal", "rgeos", "shiny", "shinythemes", "sp"))
.libPaths("C:/util")
.libPaths("C:/util")
.libPaths("C:/util")
value_list <- fromJSON("hoodlist.json")
library(httr)
library(jsonlite)
library(plyr)
library(dplyr)
library(sp)
library(maptools)
library(raster)
library(sp)
library(maptools)
library(raster)
library(dplyr)
value_list <- fromJSON("hoodlist.json")
value_list <- jsonlite::fromJSON("hoodlist.json")
setwd("~/GitHub/burghs-eye-view-parcels")
hood_list <- jsonlite::fromJSON("hoodlist.json")
setwd("~/GitHub/burghs-eye-view-parcels")
load.nhood <- jsonlite::fromJSON("./pghnhoods.txt")
load.nhood <- load.nhood$result$records
load.nhood$geo_name_nhood <- as.factor(load.nhood$geo_name_nhood)
hoodlist.up <- as.list(levels(load.nhood$geo_name_nhood))
write_json(hoodlist.up, "hoods.json")
setwd("~/GitHub/burghs-eye-view-parcels")
hood_list <- jsonlite::fromJSON("hoods.json")
hood_list
hoodname <- gsub("\\-", "_", hood_list)
hoodname <- gsub(" ", "_", hoodname)
hoodname <- gsub("\\.", "", hoodname)
hoodname <- tolower(hoodname)
hoodname
hoodname <- "bluff"
c <- GET(paste0("http://webhost.pittsburghpa.gov:5984/", hoodname, "/_design/parcels/_view/FeatureCollection"), add_headers(`Content-Type`= "application/json"))
r <- content(c)
setwd("Z:/")
hood_list <- jsonlite::fromJSON("hoodlist.json")
setwd("~/GitHub/burghs-eye-view-parcels")
hood_list <- jsonlite::fromJSON("hoods.json")
couchdb_un <- jsonlite::fromJSON("key.json")$couchdb_un
couchdb_pw <- jsonlite::fromJSON("key.json")$couchdb_pw
hoodname <- jsonlite::fromJSON("hoods.json")
hoodname <- "bluff"
g <- GET(paste0("http://webhost.pittsburghpa.gov:5984/", hoodname, "/_design/parcels/_view/FeatureCollection"), authenticate(couchdb_un, couchdb_pw))
c <- content(g, "text")
p <- readOGR(c, "OGRGeoJSON", verbose = F)
library(rgdal)
p <- readOGR(c, "OGRGeoJSON", verbose = F)
g <- GET(paste0("http://webhost.pittsburghpa.gov:5984/", hoodname), add_headers(`Content-Type`= "application/json"))
c <- content(g, "text")
p <- readOGR(c, "OGRGeoJSON", verbose = F)
i <- "bluff"
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/")
k <- "0002F00292000000"
g <- GET(paste0(url, k), authenticate(couchdb_un, couchdb_pw))
c <- content(g, "text")
p <- readOGR(c, "OGRGeoJSON", verbose = F)
typeof(p)
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/_design/parcels/_view/FeatureCollection")
url
g <- GET(paste0("http://webhost.pittsburghpa.gov:5984/", i), authenticate(couchdb_un, couchdb_pw))
c <- content(g, "text")
p <- readOGR(c, "OGRGeoJSON", verbose = F)
pi <- readOGR(c, "OGRGeoJSON", verbose = F)
library(rgdal)
library(jsonlite)
library(httr)
library(dplyr)
library(plyr)
library(lubridate)
library(geojsonio)
hoodname <- jsonlite::fromJSON("hoods.json")
couchdb_un <- jsonlite::fromJSON("key.json")$couchdb_un
couchdb_pw <- jsonlite::fromJSON("key.json")$couchdb_pw
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/_design/parcels/_view/FeatureCollection")
i <- "bluff"
k <- "0002F00292000000"
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/_design/parcels/_view/FeatureCollection")
g <- GET(paste0("http://webhost.pittsburghpa.gov:5984/", i), authenticate(couchdb_un, couchdb_pw))
g
k <- "_design/parcels"
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/_design/parcels/_view/FeatureCollection")
g <- GET(paste0(url), authenticate(couchdb_un, couchdb_pw))
g
c <- content(g, "text")
pi <- readOGR(c, "OGRGeoJSON", verbose = F)
url
i <- "st_clair"
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/_design/parcels/_view/FeatureCollection")
url
g <- GET(paste0(url), authenticate(couchdb_un, couchdb_pw))
c <- content(g, "text")
c
pi <- readOGR(c, "OGRGeoJSON", verbose = F)
g <- GET(paste0(url, k), authenticate(couchdb_un, couchdb_pw))
g
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/")
g <- GET(paste0(url, k), authenticate(couchdb_un, couchdb_pw))
g
c <- content(g, "text")
pi <- readOGR(c, "OGRGeoJSON", verbose = F)
k <- "0002F00292000000"
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/")
g <- GET(paste0(url, k), authenticate(couchdb_un, couchdb_pw))
c <- content(g, "text")
p <- readOGR(c, "OGRGeoJSON", verbose = F)
i <- "manchester"
k <- "0007B00125000000"
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/")
g <- GET(paste0(url, k), authenticate(couchdb_un, couchdb_pw))
c <- content(g, "text")
p <- readOGR(c, "OGRGeoJSON", verbose = F)
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/_all_docs")
url
g <- GET(paste0(url), authenticate(couchdb_un, couchdb_pw))
c <- content(g, "text")
c
pi <- readOGR(c, "OGRGeoJSON", verbose = F)
sign/parcels/_view/FeatureCollection
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/_design/parcels/_view/FeatureCollection")
g <- GET(paste0(url), authenticate(couchdb_un, couchdb_pw))
g
c <- content(g, "text", encoding = NULL)
pi <- readOGR(g, "OGRGeoJSON", verbose = F)
c <- content(g)
pi <- readOGR(c, "OGRGeoJSON", verbose = F)
c
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/")
g <- GET(paste0(url), authenticate(couchdb_un, couchdb_pw))
c <- content(g, "text")
p <- readOGR(c, "OGRGeoJSON", verbose = F)
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/_design/parcels/_view/FeatureCollection")
g <- GET(paste0(url), authenticate(couchdb_un, couchdb_pw))
c <- content(g)
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/_design/parcels/_view/FeatureCollection")
url
g <- GET(paste0(url), authenticate(couchdb_un, couchdb_pw))
g
c <- content(g$content)
c <- content(g$request$headers)
g$request$fields
g$request$output
g$content
c <- content(g, "text")
pi <- readOGR(c, "OGRGeoJSON", verbose = F)
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/")
g <- GET(paste0(url, k), authenticate(couchdb_un, couchdb_pw))
c <- content(g, "text")
c
p <- readOGR(c, "OGRGeoJSON", verbose = F)
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/_design/parcels/_view/FeatureCollection")
g <- GET(paste0(url), authenticate(couchdb_un, couchdb_pw))
c <- content(g, "text")
c
c <- content(g, "raw")
pi <- readOGR(c, "OGRGeoJSON", verbose = F)
c <- content(g, "test")
c <- content(g, "text")
i <- "mt_oliver"
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/_design/parcels/_view/FeatureCollection")
url
g <- GET(paste0(url), authenticate(couchdb_un, couchdb_pw))
c <- content(g, "text", encoding = "ISO-8859-1")
pi <- readOGR(c, "OGRGeoJSON", verbose = F)
pi <- readOGR(c, verbose = F)
c
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/_design/parcels/_view/FeatureCollection")
g <- GET(paste0(url), authenticate(couchdb_un, couchdb_pw))
c <- content(g, "text", encoding = "ISO-8859-1")
pi <- readOGR(c, layer = "OGRGeoJSON", verbose = F)
c
gj <- file_to_geojson(c)
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/")
g <- GET(paste0(url, k), authenticate(couchdb_un, couchdb_pw))
g
i <- "regent_square"
k <- "0176E00060000000"
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/")
g <- GET(paste0(url, k), authenticate(couchdb_un, couchdb_pw))
g
c <- content(g, "text")
p <- readOGR(c, "OGRGeoJSON", verbose = F)
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/_design/parcels/_view/FeatureCollection")
g1 <- GET(paste0(url), authenticate(couchdb_un, couchdb_pw))
url
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/")
g <- GET(paste0(url, k), authenticate(couchdb_un, couchdb_pw))
c <- content(g, "text")
c1 <- content(g1, "text", encoding = "ISO-8859-1")
pi <- readOGR(c1, layer = "OGRGeoJSON", verbose = F)
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/")
g <- GET(paste0(url, k), authenticate(couchdb_un, couchdb_pw))
c <- content(g, "text")
p <- readOGR(c, "OGRGeoJSON", verbose = F)
j1 <- toJSON(c1)
j1
pi <- readOGR(c1, layer = "OGRGeoJSON", verbose = F)
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/_all_docs")
url
g1 <- GET(paste0(url), authenticate(couchdb_un, couchdb_pw))
c1 <- content(g1, "text", encoding = "ISO-8859-1")
c1
pi <- readOGR(c1, layer = "OGRGeoJSON", verbose = F)
.libPaths("C:/util")
library(rgdal)
library(jsonlite)
.libPaths("C:/util")
library(rgdal)
library(jsonlite)
library(httr)
library(dplyr)
library(plyr)
library(lubridate)
library(geojsonio)
hoodname <- jsonlite::fromJSON("hoods.json")
couchdb_un <- jsonlite::fromJSON("key.json")$couchdb_un
couchdb_pw <- jsonlite::fromJSON("key.json")$couchdb_pw
i <- "regent_square"
k <- "0176E00060000000"
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/_design/parcels/_view/FeatureCollection")
url
g1 <- GET(paste0(url), authenticate(couchdb_un, couchdb_pw))
g1
g1$content
g1$request
g1$headers$`content-type`
g1$headers$`transfer-encoding`
c1 <- content(g1, "text", encoding = "chunked")
g1$request$fields
g1$request$headers
c1
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/")
g <- GET(paste0(url, k), authenticate(couchdb_un, couchdb_pw))
c <- content(g, "text")
c
setwd("Z:/Max_Apps/BEV/Finance/parcel_viewer")
east_end <- readShapeSpatial("east_end_parcels.shp")
west_end <- readShapeSpatial("west_end_parcels.shp")
north_side <- readShapeSpatial("north_side_parcels.shp")
south_hills <- readShapeSpatial("south_hill_parcels.shp")
hoods_e <- levels(east_end$Neighborho)
hoods_w <- levels(west_end$Neighborho)
hoods_n <- levels(north_side$Neighborho)
hoods_s <- levels(south_hills$Neighborho)
hood_list <- unlist(list(hoods_e, hoods_w, hoods_n, hoods_s))
hood_list <- sort(hood_list)
setwd("Z:/Max_Apps/BEV/Finance/parcel_viewer")
east_end <- readShapeSpatial("east_end_parcels.shp")
library(shiny)
library(shinythemes)
library(plyr)
library(sp)
library(rgeos)
library(maptools)
library(leaflet)
library(rgdal)
library(proj4)
library(raster)
library(DT)
east_end <- readShapeSpatial("east_end_parcels.shp")
i <- "regent_square"
k <- "0176E00060000000"
setwd("~/GitHub/burghs-eye-view-parcels")
library(rgdal)
library(jsonlite)
library(httr)
library(dplyr)
library(plyr)
library(lubridate)
library(geojsonio)
hoodname <- jsonlite::fromJSON("hoods.json")
couchdb_un <- jsonlite::fromJSON("key.json")$couchdb_un
couchdb_pw <- jsonlite::fromJSON("key.json")$couchdb_pw
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/_design/parcels/_view/FeatureCollection")
url
g1 <- GET(paste0(url), authenticate(couchdb_un, couchdb_pw))
c1 <- content(g1, "text")
pi <- readOGR(c1, layer = "OGRGeoJSON", verbose = F)
c1
tc <- toJSON(c1)
tc
pi <- readOGR(tc, layer = "OGRGeoJSON", verbose = F)
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/")
g <- GET(paste0(url, k), authenticate(couchdb_un, couchdb_pw))
c <- content(g, "text")
p <- readOGR(c, "OGRGeoJSON", verbose = F)
c
c1 <- fromJSON(content(g1, "text"))
bd <- c1$rows$value$features
pi <- readOGR(bd, layer = "OGRGeoJSON", verbose = F)
coords <- t(as.data.frame(c1)$geometry$coordinates[[1]][[1]])
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/_design/parcels/_view/FeatureCollection")
g1 <- GET(paste0(url), authenticate(couchdb_un, couchdb_pw))
g1
c1 <- fromJSON(content(g1, "text"))
c1
c1 <- content(g1, "text")
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/")
g <- GET(paste0(url, k), authenticate(couchdb_un, couchdb_pw))
c <- content(g, "text")
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/_design/parcels/_view/FeatureCollection")
c1
bd <- gsub("\\{\"total_rows\":387,\"offset\":0,\"rows", "", c1)
pi <- readOGR(bd, layer = "OGRGeoJSON", verbose = F)
c1
bd <- gsub("\\{\"total_rows\":387,\"offset\":0,\"rows\\", "", c1)
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/_all_docs")
g2 <- GET(paste0(url), authenticate(couchdb_un, couchdb_pw))
c1 <- content(g1, "text", encoding = "ISO-8859-1")
c2 <- content(g1, "text", encoding = "ISO-8859-1")
c2
c2 <- content(g2, "text", encoding = "ISO-8859-1")
c2
j1 <- toJSON(c2)
j1
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/_design/parcels/_view/FeatureCollection")
g2 <- GET(paste0(url), authenticate(couchdb_un, couchdb_pw))
c2 <- content(g2, "text", encoding = "ISO-8859-1")$features
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/_design/parcels/_view/FeatureCollection")
g1 <- GET(paste0(url), authenticate(couchdb_un, couchdb_pw))
c1 <- content(g1, "text")
c1 <- g1$content
c1 <- content(g1, "text")
c1
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/")
g <- GET(paste0(url, k), authenticate(couchdb_un, couchdb_pw))
c <- content(g, "text")
pi <- readOGR(c1, layer = "OGRGeoJSON", verbose = F, drop_unsupported_fields = TRUE)
c2 <- as.list(c1)
c2
c2 <- gsub("{\"total_rows\":387,\"offset\":0,\"rows\":[\r\n{\"id\":\"0127H00100000001\",\"key\":null,\"value\":", "", c1)
c2 <- gsub("\\{\"total_rows\":387,\"offset\":0,\"rows\":[\r\n{\"id\":\"0127H00100000001\",\"key\":null,\"value\":", "", c1)
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/")
g <- GET(paste0(url, k), authenticate(couchdb_un, couchdb_pw))
c <- content(g, "text")
c
p <- readOGR(c, "OGRGeoJSON", verbose = F)
c1
c2 <- gsub("{\"total_rows\":387,\"offset\":0,\"rows\"", "", c1)
c2 <- gsub("{\"total_rows\":387,\"offset\":0,\"rows\""\, "", c1)
c2 <- toJSON(c1)
c3 <_ geojson_json(c2)
c3 <- geojson_json(c2)
c3 <- geojson_json(c1)
c3 <- geojson_json(c1, type = "FeatureCollection")
c3 <- geojson_json(g1, type = "FeatureCollection")
c1 <- content(g1, "text")
pi <- readOGR(c1, layer = "OGRGeoJSON", verbose = F, drop_unsupported_fields = TRUE, dropNULLGeometries = TRUE)
c2 <- as.list(c1)
pi <- readOGR(c2, layer = "OGRGeoJSON", verbose = F, drop_unsupported_fields = TRUE, dropNULLGeometries = TRUE)
c2
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/")
g <- GET(paste0(url, k), authenticate(couchdb_un, couchdb_pw))
c <- content(g, "text")
p <- readOGR(c, "OGRGeoJSON", verbose = F)
setwd("~/GitHub/burghs-eye-view-parcels")
library(rgdal)
library(jsonlite)
library(httr)
library(dplyr)
library(plyr)
library(lubridate)
library(geojsonio)
.libPaths("C:/util")
source('~/GitHub/burghs-eye-view-parcels/testpull.R', echo=TRUE)
hoodname <- jsonlite::fromJSON("hoods.json")
couchdb_un <- jsonlite::fromJSON("key.json")$couchdb_un
couchdb_pw <- jsonlite::fromJSON("key.json")$couchdb_pw
i <- "regent_sqaure"
k <- "0176E00060000000"
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/")
g <- GET(paste0(url, k), authenticate(couchdb_un, couchdb_pw))
c <- content(g, "text")
c
i <- "regent_square"
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/")
g <- GET(paste0(url, k), authenticate(couchdb_un, couchdb_pw))
c <- content(g, "text")
c
p <- readOGR(c, "OGRGeoJSON", verbose = F)
url <- paste0("http://webhost.pittsburghpa.gov:5984/", i, "/_design/parcels/_view/FeatureCollection")
g1 <- GET(paste0(url), authenticate(couchdb_un, couchdb_pw))
c1 <- content(g1, "text")
pi <- readOGR(c2, layer = "OGRGeoJSON", verbose = F, drop_unsupported_fields = TRUE, dropNULLGeometries = TRUE)
pi <- readOGR(c1, layer = "OGRGeoJSON", verbose = F, drop_unsupported_fields = TRUE, dropNULLGeometries = TRUE)
setwd("~/GitHub/burghs-eye-view-parcels")
hoodname <- jsonlite::fromJSON("hoods.json")
